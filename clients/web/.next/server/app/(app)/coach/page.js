(()=>{var e={};e.id=140,e.ids=[140],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1193:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c});var a=s(28090),r=s(79409),l=s(31522),n=s.n(l),o=s(41305),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let c=["",{children:["(app)",{children:["coach",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,75447)),"/Users/nicholasrossi/Documents/repos/leetloop/clients/web/src/app/(app)/coach/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,19985)),"/Users/nicholasrossi/Documents/repos/leetloop/clients/web/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,70111,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,8722)),"/Users/nicholasrossi/Documents/repos/leetloop/clients/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,70111,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/nicholasrossi/Documents/repos/leetloop/clients/web/src/app/(app)/coach/page.tsx"],p="/(app)/coach/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(app)/coach/page",pathname:"/coach",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},79989:(e,t,s)=>{Promise.resolve().then(s.bind(s,64478))},64478:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(44297),r=s(65803),l=s(45470),n=s(73114),o=s(49335);function i(){let{userId:e}=(0,l.useAuth)(),[t,s]=(0,r.useState)([]),[i,c]=(0,r.useState)(""),[d,p]=(0,r.useState)(!1),[u,x]=(0,r.useState)([]),m=(0,r.useRef)(null);async function h(){if(!i.trim()||!e||d)return;let a={role:"user",content:i.trim()};s(e=>[...e,a]),c(""),p(!0);try{let r=await n.K.chat(e,a.content,void 0,t),l={role:"assistant",content:r.message};s(e=>[...e,l])}catch(e){console.error("Chat error:",e),s(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{p(!1)}}(0,r.useEffect)(()=>{(async function(){if(e)try{let t=await n.K.getTips(e);x(t.tips)}catch(e){console.error("Failed to load tips:",e)}})()},[e]),(0,r.useEffect)(()=>{m.current?.scrollIntoView({behavior:"smooth"})},[t]);let f=["What should I practice next?","Explain two pointers technique","How do I approach DP problems?","Review my weak areas"];return(0,a.jsxs)("div",{className:"h-[calc(100vh-8rem)] flex flex-col",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"AI Coach"})}),(0,a.jsxs)("div",{className:"flex-1 flex gap-6 min-h-0",children:[(0,a.jsxs)("div",{className:"flex-1 card flex flex-col",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"Welcome to your AI Coach"}),a.jsx("p",{className:"text-slate-500 mb-6",children:"Ask questions about algorithms, get help with problems, or review your progress."}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:f.map(e=>a.jsx("button",{onClick:()=>c(e),className:"px-3 py-1.5 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded-lg text-slate-700 dark:text-slate-300 transition-colors",children:e},e))})]}):t.map((e,t)=>a.jsx("div",{className:(0,o.W)("flex","user"===e.role?"justify-end":"justify-start"),children:a.jsx("div",{className:(0,o.W)("max-w-[80%] px-4 py-2 rounded-lg","user"===e.role?"bg-brand-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white"),children:a.jsx("p",{className:"whitespace-pre-wrap",children:e.content})})},t)),d&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 px-4 py-2 rounded-lg",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),a.jsx("div",{ref:m})]}),a.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 p-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("textarea",{value:i,onChange:e=>c(e.target.value),onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},placeholder:"Ask about algorithms, problems, or your progress...",className:"input resize-none",rows:2,disabled:d}),a.jsx("button",{onClick:h,disabled:!i.trim()||d,className:(0,o.W)("btn-primary px-6",(!i.trim()||d)&&"opacity-50 cursor-not-allowed"),children:"Send"})]})})]}),(0,a.jsxs)("div",{className:"w-80 card p-4 hidden lg:block",children:[a.jsx("h2",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"Personalized Tips"}),0===u.length?a.jsx("p",{className:"text-sm text-slate-500",children:"Tips will appear here based on your practice patterns."}):a.jsx("ul",{className:"space-y-3",children:u.map((e,t)=>a.jsx("li",{className:"text-sm text-slate-600 dark:text-slate-400 pl-4 border-l-2 border-brand-500",children:e},t))}),(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"font-medium text-slate-900 dark:text-white mb-2",children:"Quick Questions"}),a.jsx("div",{className:"space-y-2",children:f.map(e=>a.jsx("button",{onClick:()=>c(e),className:"w-full text-left text-sm text-slate-600 dark:text-slate-400 hover:text-brand-600 dark:hover:text-brand-400",children:e},e))})]})]})]})]})}},13776:(e,t,s)=>{"use strict";var a=s(84042);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},75447:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(37460).createProxy)(String.raw`/Users/nicholasrossi/Documents/repos/leetloop/clients/web/src/app/(app)/coach/page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default},49335:(e,t,s)=>{"use strict";function a(){for(var e,t,s=0,a="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var l=t.length;for(s=0;s<l;s++)t[s]&&(a=e(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a)}return r}(e))&&(a&&(a+=" "),a+=t);return a}s.d(t,{W:()=>a,Z:()=>r});let r=a}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[132,647,911,174],()=>s(1193));module.exports=a})();