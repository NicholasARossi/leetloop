(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{47475:function(e,t,s){Promise.resolve().then(s.bind(s,27219))},27219:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var a=s(89075),l=s(50511),i=s(980),r=s(19894),d=s(24637),n=s(68273);function c(e){let{title:t,value:s,subtitle:l,trend:i,trendValue:r,icon:d,className:c}=e;return(0,a.jsx)("div",{className:(0,n.W)("card p-6",c),children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:t}),(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-1",children:s}),l&&(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:l}),i&&r&&(0,a.jsxs)("div",{className:(0,n.W)("flex items-center gap-1 mt-2 text-sm font-medium","up"===i&&"text-green-600 dark:text-green-400","down"===i&&"text-red-600 dark:text-red-400","neutral"===i&&"text-slate-500"),children:["up"===i&&(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"down"===i&&(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),r]})]}),d&&(0,a.jsx)("div",{className:"text-slate-400 dark:text-slate-500",children:d})]})})}var o=s(34562),x=s(47294),m=s(92561),u=s(7596),h=s(35144),f=s(12827),j=s(98981),b=s(66063),p=s(33936),v=s(80151),g=s(64045);function k(e){let{trends:t,className:s}=e;if(0===t.length)return(0,a.jsx)("div",{className:s,children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64 text-slate-500",children:"No submission data yet. Start solving problems!"})});let l=t.map(e=>({date:e.date.slice(5),Submissions:e.submissions,Accepted:e.accepted,"Success Rate":Math.round(100*e.success_rate)}));return(0,a.jsx)("div",{className:s,children:(0,a.jsx)(u.h,{width:"100%",height:300,children:(0,a.jsxs)(h.w,{data:l,children:[(0,a.jsx)(f.q,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,a.jsx)(j.K,{dataKey:"date",tick:{fill:"#64748b",fontSize:11},tickLine:{stroke:"#e2e8f0"}}),(0,a.jsx)(b.B,{yAxisId:"left",tick:{fill:"#64748b",fontSize:11},tickLine:{stroke:"#e2e8f0"}}),(0,a.jsx)(b.B,{yAxisId:"right",orientation:"right",domain:[0,100],tick:{fill:"#64748b",fontSize:11},tickLine:{stroke:"#e2e8f0"},unit:"%"}),(0,a.jsx)(p.u,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#f8fafc"}}),(0,a.jsx)(v.D,{}),(0,a.jsx)(g.x,{yAxisId:"left",type:"monotone",dataKey:"Submissions",stroke:"#94a3b8",strokeWidth:2,dot:{fill:"#94a3b8",strokeWidth:0,r:3}}),(0,a.jsx)(g.x,{yAxisId:"left",type:"monotone",dataKey:"Accepted",stroke:"#22c55e",strokeWidth:2,dot:{fill:"#22c55e",strokeWidth:0,r:3}}),(0,a.jsx)(g.x,{yAxisId:"right",type:"monotone",dataKey:"Success Rate",stroke:"#0ea5e9",strokeWidth:2,dot:{fill:"#0ea5e9",strokeWidth:0,r:3}})]})})})}var N=s(99598);function y(){let{userId:e}=(0,r.useAuth)(),[t,s]=(0,l.useState)(!0),[n,u]=(0,l.useState)(null),[h,f]=(0,l.useState)(null),[j,b]=(0,l.useState)([]),[p,v]=(0,l.useState)([]),[g,y]=(0,l.useState)([]),[w,_]=(0,l.useState)([]);return((0,l.useEffect)(()=>{(async function(){if(e){s(!0),u(null);try{let[t,s]=await Promise.all([d.K.getProgress(e),d.K.getRecommendations(e,3)]);f(t.stats),b(t.skill_scores),v(t.trends),y(t.recent_submissions),_(s.recommendations)}catch(e){console.error("Failed to load dashboard data:",e),u("Failed to load data. Make sure the backend is running.")}finally{s(!1)}}})()},[e]),t)?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-pulse text-slate-500",children:"Loading dashboard..."})}):n?(0,a.jsxs)("div",{className:"card p-8 text-center",children:[(0,a.jsx)("p",{className:"text-red-500 mb-4",children:n}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:["Make sure the backend API is running at"," ",(0,a.jsx)("code",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded",children:"http://localhost:8081"})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(c,{title:"Total Submissions",value:(null==h?void 0:h.total_submissions)||0}),(0,a.jsx)(c,{title:"Problems Solved",value:(null==h?void 0:h.problems_solved)||0,subtitle:"of ".concat((null==h?void 0:h.problems_attempted)||0," attempted")}),(0,a.jsx)(c,{title:"Success Rate",value:"".concat(Math.round(100*((null==h?void 0:h.success_rate)||0)),"%"),trend:(null==h?void 0:h.success_rate)&&h.success_rate>=.5?"up":"down"}),(0,a.jsx)(c,{title:"Reviews Due",value:(null==h?void 0:h.reviews_due)||0,subtitle:(null==h?void 0:h.reviews_due)?"Problems need review":"All caught up!"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Skill Distribution"}),(0,a.jsx)(m.v,{skills:j})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Progress Over Time"}),(0,a.jsx)(k,{trends:p})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Recent Submissions"}),(0,a.jsx)(i.default,{href:"/submissions",className:"text-sm text-brand-600 hover:text-brand-700",children:"View all"})]}),0===g.length?(0,a.jsx)("p",{className:"text-slate-500 text-center py-8",children:"No submissions yet. Start solving problems on LeetCode!"}):(0,a.jsx)("div",{className:"space-y-3",children:g.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-700 last:border-0",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-slate-900 dark:text-white truncate",children:e.problem_title}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:(0,N.Q)(new Date(e.submitted_at),{addSuffix:!0})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[e.difficulty&&(0,a.jsx)(o.B,{difficulty:e.difficulty}),(0,a.jsx)(x.O,{status:e.status})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Recommended Problems"}),(0,a.jsx)(i.default,{href:"/reviews",className:"text-sm text-brand-600 hover:text-brand-700",children:"View reviews"})]}),0===w.length?(0,a.jsx)("p",{className:"text-slate-500 text-center py-8",children:"No recommendations yet. Keep practicing!"}):(0,a.jsx)("div",{className:"space-y-3",children:w.map((e,t)=>(0,a.jsxs)("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("a",{href:"https://leetcode.com/problems/".concat(e.problem_slug,"/"),target:"_blank",rel:"noopener noreferrer",className:"font-medium text-slate-900 dark:text-white hover:text-brand-600",children:e.problem_title||e.problem_slug}),(0,a.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:e.reason})]}),e.difficulty&&(0,a.jsx)(o.B,{difficulty:e.difficulty})]}),e.tags.length>0&&(0,a.jsx)("div",{className:"flex gap-1 mt-2 flex-wrap",children:e.tags.slice(0,3).map(e=>(0,a.jsx)("span",{className:"text-xs bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300 px-2 py-0.5 rounded",children:e},e))})]},"".concat(e.problem_slug,"-").concat(t)))})]})]})]})}},34562:function(e,t,s){"use strict";s.d(t,{B:function(){return i}});var a=s(89075),l=s(68273);function i(e){let{difficulty:t,className:s}=e;return(0,a.jsx)("span",{className:(0,l.W)(s,"Easy"===t&&"badge-easy","Medium"===t&&"badge-medium","Hard"===t&&"badge-hard"),children:t})}},47294:function(e,t,s){"use strict";s.d(t,{O:function(){return i}});var a=s(89075),l=s(68273);function i(e){let{status:t,className:s}=e,i="Accepted"===t;return(0,a.jsx)("span",{className:(0,l.W)(s,i?"badge-accepted":"badge-failed"),children:t})}}},function(e){e.O(0,[453,980,138,300,636,532,852,999,744],function(){return e(e.s=47475)}),_N_E=e.O()}]);